---
title: 游戏存档
description: 系统会在储存数据时自动储存一些关键档案数据，作者无需实现这些数据的储存。同时也支持作者追加储存和读取一些自定义的数据。
---

系统会在储存数据时自动储存一些关键档案数据，作者无需实现这些数据的储存。

同时也支持作者追加储存和读取一些自定义的数据。

单机版默认支持无限个存档，根据作者自定义来决定。

## 单机内核的存档-系统自动储存的数据

- 世界的自定义属性
- 二周目变量
- 玩家的数据（自定义玩家数据、玩家的场景对象基本数据+自定义数据）

> 玩家的场景对象基本数据是指SceneObject的属性

- 玩家的变量
- 当前场景下的所有场景对象的属性（场景对象的基本数据+自定义数据）
- 全部场景下的对象开关（即整个游戏世界的对象的开关）

> 比如图像命令有ABCD，在执行B的时候存档了，那么读档后会继续接着执行，而非重头执行。

- 当前正在执行的所有事件

> 比如事件正在执行ABCD，执行到一半存档了，读档后会继续执行接下去的事件。

- 当前正在执行的对象行为

> 比如对象行为需要执行ABCD步骤，执行完AB后存档了，那么断定后会继续执行CD。

- 当前正在播放的背景音乐、场景音效.(包括音量、全局音量、音调等)

> 参考：[GameAudio.lastBgmURL, GameAudio.lastBGMPitch, GameAudio.lastBGMVolume, GameAudio.lastBgsURL, GameAudio.lastBGSPitch, GameAudio.lastBGSVolume, GameAudio.bgmVolume, GameAudio.bgsVolume, GameAudio.seVolume];

- 当前已打开的所有界面
- 当前场景的镜头等状态
- 游戏时间和存档时间等

## 单机内核的存档-二周目变量和自定义数据

作为二周目变量，贯穿于全局。比如使用第一个存档将3号二周目变量改为100了，则任何新游戏或存档，在未改变该值时都是100。

自定义的二周目数据也同理。

## 网络内核的存档-系统自动储存的数据

网络内核由主线程负责储存和读取数据至数据库中，包含：

- 世界的自定义属性
- 世界的变量（全局变量）
- 玩家的数据（自定义玩家数据、玩家的场景对象基本数据+自定义数据）
- 全场景对象的对象开关数据

<!-- ## 参考资料

- API-单机版-存档读档相关类-单机游戏类:SinglePlayerGame -->
