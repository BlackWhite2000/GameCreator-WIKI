---
title: 场景设置
description: 游戏场景的相关使用说明
---

## 相关区域说明

![alt text](https://cdn.gcw.wiki.wiki/gcw/image/zh_hans/getting-started/7.scene/2.setting/image.png)

| 编号 | 类别               | 说明                                                                                                                                  |
| ---- | ------------------ | ------------------------------------------------------------------------------------------------------------------------------------- |
| ①    | 地图列表           | 用于管理游戏内多个场景，地图父子节点关系是虚拟的，仅供整理归类使用                                                                    |
| ②    | 图层区域           | 用于管理选定的场景内的多个图层                                                                                                        |
| ③    | 场景和图层属性设置 | 用于设置选定的场景或图层的属性                                                                                                        |
| ④    | 场景状态设置       | 用于开启或关闭一些编辑器预览状态                                                                                                      |
| ⑤    | 场景缩放视图       | 缩放当前的场景编辑器视图                                                                                                              |
| ⑥    | 常用信息显示       | 抽象图层，用于逻辑计算用的数据层，不同的游戏或模板可能所有不同，游戏制作者也可以自行设计其作用，比如RPG游戏中可能存在的障碍层和遮罩层 |

## 新建地图

在地图列表（①）中点击+号。

![alt text](https://cdn.gcw.wiki.wiki/gcw/image/zh_hans/getting-started/7.scene/2.setting/image-1.png)

如果存在网格尺寸的设定说明该工程启用了网格显示的功能。网格的像素尺寸是统一的，在编辑器设置中可以进行设置。

网格尺寸与像素尺寸互相关联，修改其中一项后编辑器会自动调整另外一项的尺寸，设置像素尺寸最好是网格尺寸的整数倍。

![alt text](https://cdn.gcw.wiki.wiki/gcw/image/zh_hans/getting-started/7.scene/2.setting/image-2.png)

点击确定后即在当前的地图文件内创建了一个新的地图。

## 调整地图位置

| 操作     | 说明                                                                                           |
| -------- | ---------------------------------------------------------------------------------------------- |
| 鼠标操作 | 拖拽选定的图层到指定的地图文件下面（拖拽到地图文件内部）或者同层级上（拖拽到地图文件头部左边） |
| 键盘操作 | ALT+上下方向键：在同一个父文件夹下更换顺序                                                     |
| 菜单操作 | 鼠标右键点击地图文件后选择上移和下移：在同一个父文件夹下更换顺序                               |

## 调整地图尺寸

对于已存在的地图可以重新调整地图的尺寸，如果将地图变小，则会剔除缩小部分内的绘制的地图和场景对象。

在当前选中的场景内也可以通过场景属性面板中的「扩展和偏移」来调整地图尺寸或对已绘制好的地图进行偏移。

::div{class="text-red-300"}
该操作无法撤回，请谨慎操作，如果操作失误，可以直接在未保存工程的情况下关闭工程再重新启动即可。
::

| 操作     | 说明                                         |
| -------- | -------------------------------------------- |
| 菜单操作 | 鼠标右键点击地图文件后选择属性：修改相关尺寸 |

## 复制地图

复制后再粘贴即可在指定的地图文件夹下面再创建出此前复制的地图副本。

除了地图ID不一样以外，里面的图层设置、场景属性、场景对象、相关事件等等都是和原地图一样的。

需要鼠标选中一个地图文件后才能使用复制功能。

| 操作     | 说明                                                                     |
| -------- | ------------------------------------------------------------------------ |
| 键盘操作 | CTRL+C 复制 CTRL+V 粘贴                                                  |
| 菜单操作 | 鼠标右键点击地图文件后选择复制，然后再需要粘贴的位置上鼠标右键选择：粘贴 |

## 地图状态设置

这些设置仅限于编辑器使用，与游戏运行时无关。

| 操作             | 说明                                                                                                                                                                |
| ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 显示网格         | 勾选上会在场景视图中显示黑色网格，根据编辑器设置中预设的网格像素尺寸决定网格大小 <br>`快捷键：CTRL+H`                                                               |
| 对象对齐网格     | 勾选此项后拖拽场景对象时会对齐网格的中心点，<br>如果未勾选此项，在拖拽场景对象时可以按住SHIFT的期间也可以对齐网格                                                   |
| 非当前层显示模式 | `正常` 未选中的图层正常显示，勾选此项可以在编辑图层时预览到实际效果，但不容易区分当前选中的图层 <br>`暗淡显示` 未选中的图层暗淡显示 <br>`不显示` 未选中的图层不显示 |
| 网格状态层设置   | 勾选上指定的网格数据层则会在任何时候显示                                                                                                                            |
| 显示场景动态效果 | 勾选此项后可以实时预览到图层的运动以及场景对象的动作播放等动态效果                                                                                                  |

## 其他相关操作

| 操作         | 说明                                                             |
| ------------ | ---------------------------------------------------------------- |
| 缩放场景视图 | 鼠标拖拽 ⑤-场景缩放视图组件或使用鼠标滚轮滚动进行缩放            |
| 还原场景视图 | `鼠标操作` 鼠标右键点击⑤-场景缩放视图组件 <br>`键盘操作` 快捷键Z |
| 移动场景视图 | 按住空格键后开始拖拽场景即可。（对象层拖拽地图时无需按住空格键） |

## 场景基本属性

| 属性                     | 说明                                                                                                                                                                                                                                         |
| ------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 地图尺寸                 | 显示了地图的像素尺寸，在开启网格显示时还会显示网格尺寸                                                                                                                                                                                       |
| 扩展与偏移               | 针对当前地图扩充或删减地图尺寸以及将已绘制的图块进行偏移（如果超出范围则会截断）                                                                                                                                                             |
| 客户端                   | 客户端场景绑定类，用于实际运行该场景逻辑的脚本实现类，不同的地图支持不同的绑定类<br>默认创建地图时根据编辑器设置中预先设置的「新建场景默认客户端绑定类」进行设置                                                                             |
| 服务端                   | 【仅限网络版】服务端场景绑定类，用于服务器实际运行该场景逻辑的脚本实现类，不同的地图支持不同的绑定类<br>默认创建地图时根据编辑器设置中预先设置的「新建场景默认服务端绑定类」进行设置                                                         |
| BGM                      | 进入该场景时自动播放的背景音乐<br>通常由项目层实现此属性，比如可能追加一些渐入渐出效果                                                                                                                                                       |
| BGS                      | 进入该场景时自动播放的环境音效<br>通常由项目层实现此属性，比如可能追加一些渐入渐出效果                                                                                                                                                       |
| 预载地图资源             | 勾选此项将会在预加载该场景的时候预先载入该场景的图层中涉及的图片资源<br>包含图块层用到的图块资源以及图片层用到的图片资源<br>脚本中通过AssetManager.preLoadSceneAsset调用时会根据此设定进行加载                                               |
| 预载全场景对象资源       | 勾选此项将会在预加载该场景的时预先载入该场景中预摆放对象的资源<br>场景对象的每个状态页下可能存在的显示列表（行走图、动画、界面）以及其事件内涉及的相关资源等（附录一）<br>脚本中通过AssetManager.preLoadSceneAsset调用时会根据此设定进行加载 |
| 预载场景事件中涉及的资源 | 勾选此项将会在预加载该场景下所有事件中涉及的相关资源。（附录一）<br>脚本中通过AssetManager.preLoadSceneAsset调用时会根据此设定进行加载                                                                                                       |
| 额外的预载入资源列表     | 图片<br>音频<br>行走图<br>立绘<br>动画<br>界面<br>对话框样式<br>文本<br>JSON                                                                                                                                                                 |

## 场景相关事件

- [场景触发器](/zh_hans/getting-started/scene/trigger)

## 场景相关事件指令

- [场所移动](/zh_hans/commands/scene/transferplayer)
