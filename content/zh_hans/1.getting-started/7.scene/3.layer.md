---
title: 图层
description: 场景的绘制由图层组成，包含图块层、图片层、对象层、网格数据层
---

图层分为显示类图层和网格数据层，其中显示类图层包含图块层、图片层及对象层，根据从左到右由低到高的显示顺序决定图层实际显示层次。

::div{class="text-red-300"}
注意：网格数据层为逻辑数据层用于游戏逻辑运算，以显示的顺序取得对应的网格数据层。
::

如下图，0=障碍层 1=遮罩层 2=桥属性层，一旦位置变更或删减都可能导致绘制网格数据与实际效果不符

![alt text](https://assbak.gcw.wiki/gcw/image/zh_hans/getting-started/7.scene/3.layer/image.png)

## 图层类别

| 图层类别   | 图样                                                                                            | 说明                                                                                                                                     |
| ---------- | ----------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
| 图块层     | ![alt text](https://assbak.gcw.wiki/gcw/image/zh_hans/getting-started/7.scene/3.layer/image-1.png) | `显示类图层` 使用图块的方式绘制图层                                                                                                      |
| 图片层     | ![alt text](https://assbak.gcw.wiki/gcw/image/zh_hans/getting-started/7.scene/3.layer/image-2.png) | `显示类图层` 使用一整张图显示                                                                                                            |
| 对象层     | ![alt text](https://assbak.gcw.wiki/gcw/image/zh_hans/getting-started/7.scene/3.layer/image-3.png) | `显示类图层` 用于摆放场景对象（如NPC、装饰动画等）                                                                                       |
| 网格数据层 | ![alt text](https://assbak.gcw.wiki/gcw/image/zh_hans/getting-started/7.scene/3.layer/image-4.png) | `抽象图层` 用于逻辑计算用的数据层，不同的游戏或模板可能所有不同，游戏制作者也可以自行设计其作用<br>比如RPG游戏中可能存在的障碍层和遮罩层 |

## 图层操作

| 图层操作      | 说明                                                                                                                                                        |
| ------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 选中图层      | `鼠标操作` 鼠标左键单击指定的图层即可选中<br>`键盘操作` **SHIFT+数字键1~0**<br>快速切换选中显示类图层<br>**CTRL+数字键1~0**<br>快速切换选中网格数据层       |
| 更换图层位置  | `鼠标操作` 鼠标左键拖拽指定的图层进行调整顺序<br>`键盘操作` **ALT+左右方向键**<br>更换当前选中的图层位置（网格数据层除外）<br>`右键菜单` 选择左移或右移功能 |
| 重命名图层    | `鼠标操作` 双击图层<br>`右键菜单` 菜单中选择重命名功能，网格数据层则是位于属性栏                                                                            |
| 预览/隐藏图层 | ``键盘操作`` 快捷键V<br>`右键菜单` 菜单中勾选预览                                                                                                           |
| 复制图层      | `键盘操作` CTRL+C<br>`右键菜单` 菜单中选择复制                                                                                                              |
| 粘贴图层      | `键盘操作` CTRL+V<br>`右键菜单` 菜单中选择粘贴                                                                                                              |
| 删除图层      | `键盘操作` CTRL+D 或 DELETE<br>`右键菜单` 菜单中选择删除                                                                                                    |

## 新建图片层

右键点击图层后选择 `新建=>图片层`。

新建后可以在右边图层属性面板中修改该图层的属性。

| 图层属性 | 说明                                                                                                                                                                                                                           |
| -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 编辑模式 | 开启编辑模式后可以在场景中自由编辑图片的位置、尺寸、旋转度<br>非编辑模式下才允许设置一些无法编辑但能够实时预览的属性（如平铺）<br>默认切换到该图层上时是编辑模式，但也可以在非编辑模式下选择锁定（锁定后则默认进入非编辑模式） |
| 图片     | 选择一张大图作为该图层的背景显示                                                                                                                                                                                               |
| 偏移     | 图层的坐标位置偏移，包含水平坐标x和垂直坐标y                                                                                                                                                                                   |
| 缩放     | 图层的缩放，包含水平缩放sx和垂直缩放sy                                                                                                                                                                                         |
| 倾斜     | 图层的倾斜，包含水平缩放skewX和垂直缩放skewY                                                                                                                                                                                   |
| 平铺     | 图层的平铺，勾选此项可以让图层循环显示，包含x方向平铺和y方向平铺                                                                                                                                                               |
| 自动滚动 | 图层的滚动，设置后图层将自动进行滚动，一般需要配合平铺使用。单位：像素/帧                                                                                                                                                      |
| 远景比例 | 设置远景比例可以在镜头移动时改变移动比例，越小则表示移动越慢（表示越远），反之则越快                                                                                                                                           |
| 透明度   | 该图层的透明度                                                                                                                                                                                                                 |
| 混合模式 | 表示与上一层图层的图像混合方式                                                                                                                                                                                                 |

## 新建图块层

右键点击图层后选择 `新建=>图块层`。

属性同新建图片层（图片设置除外）。

## 新建网格数据层

网格数据层用于游戏内逻辑运算用。

新建后全部场景以及图块源都拥有该网格数据层，并非只针对当前场景，可以进行该数据的涂绘。

::div{class="text-red-300"}
通常使用模板预设即可，高级开发人员可以通过在此设置以及脚本中实现来增删或修改网格数据层。

网格数据层不允许更换位置，始终通过下标来进行引用（从0开始）。
::

| 图层属性 | 说明                                           |
| -------- | ---------------------------------------------- |
| 名称     | 该网格数据层的显示名称                         |
| 绘制颜色 | 涂绘的颜色，仅用于游戏制作者参考区分不同的数据 |
| 提示     | 鼠标悬停在该网格数据层时的说明提示             |
