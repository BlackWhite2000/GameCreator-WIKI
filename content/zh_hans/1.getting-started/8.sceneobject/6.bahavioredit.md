---
title: 场景对象行为编辑
description: 允许场景对象执行指定的行为命令组，让对象按照该命令执行行为
---

## 概念

### 行为

GameCreator允许场景对象执行指定的行为命令组，让对象按照该命令执行行为

### 行为层

1. 每给对象添加一组行为即作为新的一层，只有该层执行完毕才会回到上一层继续执行行为（所以循环的行为无法回到上一层执行）
2. 如果对象正在执行行为中需要等待的话则只有在等待完毕后才能执行下一步行为
3. 执行下一步行为时如果有新的行为层，则会开始执行新的行为层（比如RPG-苍之羽的「移动」指令和「等待」都属于需要等待的指令
4. 如果对象在移动中，再添加新的行为组时他并不会立即执行，而是要等本次移动完毕，如果需要立即执行，可以勾选「强制停止正在执行的行为」）

## 使用行为编辑器

用于编辑指定对象行为的编辑面板，可以使用事件指令 [设置对象行为](/zh_hans/commands/sceneobject/setobjectbehavior) 来给指定对象的添加行为指令。

![alt text](https://cdn.gcw.wiki.wiki/gcw/image/zh_hans/getting-started/8.sceneobject/6.bahavioredit/image.png)

### 选择执行行为的对象

需要选择一个对象，给其添加行为

|                  |                                                           |
| ---------------- | --------------------------------------------------------- |
| 玩家对象         | 指定玩家的场景对象（唯一）                                |
| 触发事件者       | 指定为该事件的触发者事件系统参考                          |
| 执行事件者       | 指定为该事件的执行者                                      |
| 指定编号的对象   | 指定对应编号的场景对象，每个场景对象有唯一的编号（index） |
| 使用变量指定对象 | 根据数值变量当前的值作为对象编号来指定场景对象            |

### 行为列表

列出了该行为组中的所有行为列表，允许编辑和删除

|                      |                                                                              |
| -------------------- | ---------------------------------------------------------------------------- |
| 鼠标左键单击行为步骤 | 使预览切换到该行为执行之前的状态（该行为本身尚未执行）                       |
| 鼠标左键双击行为步骤 | 编辑该行为步骤（如果有参数可编辑的话）                                       |
| 右键菜单             | 可进行一些常规操作：剪切（CTRL+X）、复制(CTRL+C)、粘贴(CTRL+V)、删除(CTRL+D) |

### 自定义指令集合

使用自定义编辑器中的自定义行为编辑器制作而成的指令集合

具体行为作用由实现者决定（比如模板制作者、插件制作者等）

### 行为组参数

|                        |                                                                                                                                                                |
| ---------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 使用变量指定坐标       | 根据数值变量当前的值作为对象编号来指定场景对象                                                                                                                 |
| 覆盖旧的行为组         | 勾选此项则会消除掉此前设定的行为而仅保留当前的行为<br>（默认情况下追加行为会以队列的形式，每有新的行为加入时会执行新的行为，执行完毕会回到旧的行为上继续执行） |
| 循环执行               | 勾选此项后添加的该组行为会循环执行                                                                                                                             |
| 强制停止正在执行的行为 | 勾选此项会立即停止正在执行的行为以便新的行为命令组能够正常执行。<br>该效果由项目层实现，具体效果视项目决定                                                     |

### 行为预览窗口

用于实时预览当前的行为

|          |                                                                                                                              |
| -------- | ---------------------------------------------------------------------------------------------------------------------------- |
| 实时预览 | 为了实时预览，行为预览窗口执行了项目层的游戏脚本，br>项目层代码可根据Config.BEHAVIOR_EDIT_MODE判断是否运行于行为编辑器环境中 |
| 对象坐标 | 显示当前指定的对象的坐标                                                                                                     |
| 显示网格 | 勾选此项将在预览场景中显示网格                                                                                               |
| 刷新     | 当更新了自定义行为或者相关脚本后，刷新才能查看到新的结果                                                                     |
| 播放     | 从头开始逐步播放行为，没有等待时间的行为会在瞬间完成                                                                         |
| 缩放视图 | 使用鼠标滚轮或拖动缩放工具栏来进行缩放视图，<br>使用快捷键Z或右键点击缩放工具栏还原至100%视图                                |

## 不阻塞当前事件页执行

行为内部如果有需要等待相关的指令仅内部独立的等待，并不会影响当前事件页的后续指令执行，

比如给某个对象派发了一个行为组，而该对象会自己去执行这些行为，可以同时派发给多个对象，他们可以同时去执行相同或不同的行为组。

如果需要等待行为指令执行完毕后再当前指令后续的事件可以使用行为指令 [等待行为结束](../../commands/sceneobject/waitbehaviorover)。

## 行为指令：更换行走图

更换行走图的指令是GC底层提供的，使用该指令后选择行走图、面向、动作、帧即可指定变更完成。

该指令是瞬间完成的，没有任何等待时间，如果连续更换多次行走图，他始终是显示最后一个，

如果中途有「需要等待时间」的指令时才能够做到逐步变更的效果。

![alt text](https://cdn.gcw.wiki.wiki/gcw/image/zh_hans/getting-started/8.sceneobject/6.bahavioredit/image-1.png)

## 行为指令：等待行为结束

在当前事件页的 [等待行为结束](../../commands/sceneobject/waitbehaviorover) 这条指令前派发出去的所有行为执行完毕后再继续执行接下去的指令。

如果派发了循环的行为，将永远等不到它结束。

## 自定义行为

允许用户自定义编辑行为，编辑的行为也可以在预览窗口内实时预览。详情参考自定义编辑器-自定义行为。

由于GameCreator允许用户自制行为，具体的行为功能由具体的项目而定
